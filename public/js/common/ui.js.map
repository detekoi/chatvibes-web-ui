{
  "version": 3,
  "sources": ["ui.ts"],
  "sourcesContent": ["/**\n * Shared UI helpers for ChatVibes Web UI.\n */\n\n// Extend window for Bootstrap types\ndeclare global {\n  interface Window {\n    bootstrap: {\n      Toast: new (element: HTMLElement, options?: { delay?: number }) => {\n        show(): void;\n        hide(): void;\n        dispose(): void;\n      };\n    };\n  }\n}\n\nfunction getToastContainer(): HTMLElement {\n  let toastContainer = document.getElementById('toast-container');\n  if (!toastContainer) {\n    toastContainer = document.createElement('div');\n    toastContainer.id = 'toast-container';\n    toastContainer.className = 'toast-container position-fixed bottom-0 end-0 p-3';\n    document.body.appendChild(toastContainer);\n  }\n  return toastContainer;\n}\n\n/**\n * Toast notification types\n */\nexport type ToastType = 'success' | 'error' | 'danger' | 'warning' | 'info';\n\n/**\n * Display a toast notification.\n */\nexport function showToast(message: string, type: ToastType = 'success'): void {\n  const toastContainer = getToastContainer();\n\n  const toastEl = document.createElement('div');\n  toastEl.className = 'toast align-items-center border-0';\n  toastEl.setAttribute('role', 'alert');\n  toastEl.setAttribute('aria-live', 'assertive');\n  toastEl.setAttribute('aria-atomic', 'true');\n\n  const bgClass = type === 'error' || type === 'danger' ? 'text-bg-danger' :\n    type === 'warning' ? 'text-bg-warning' :\n    type === 'info' ? 'text-bg-info' : 'text-bg-success';\n  toastEl.classList.add(bgClass);\n\n  const inner = document.createElement('div');\n  inner.className = 'd-flex';\n\n  const body = document.createElement('div');\n  body.className = 'toast-body';\n  body.innerHTML = message;\n\n  const btn = document.createElement('button');\n  btn.type = 'button';\n  btn.className = 'btn-close btn-close-white me-2 m-auto';\n  btn.setAttribute('data-bs-dismiss', 'toast');\n  btn.setAttribute('aria-label', 'Close');\n\n  inner.appendChild(body);\n  inner.appendChild(btn);\n  toastEl.appendChild(inner);\n  toastContainer.appendChild(toastEl);\n\n  const bsToast = new window.bootstrap.Toast(toastEl, { delay: 5000 });\n  bsToast.show();\n  toastEl.addEventListener('hidden.bs.toast', () => toastEl.remove());\n}\n\n/**\n * Copy text to the clipboard with fallbacks.\n */\nexport async function copyToClipboard(text: string): Promise<boolean> {\n  try {\n    if (navigator.clipboard && window.isSecureContext) {\n      await navigator.clipboard.writeText(text);\n      return true;\n    }\n\n    const textArea = document.createElement('textarea');\n    textArea.value = text;\n    textArea.style.position = 'fixed';\n    textArea.style.left = '-999999px';\n    textArea.style.top = '-999999px';\n    document.body.appendChild(textArea);\n    textArea.focus();\n    textArea.select();\n    const result = document.execCommand('copy');\n    document.body.removeChild(textArea);\n    return result;\n  } catch (err) {\n    console.error('Failed to copy text: ', err);\n    return false;\n  }\n}\n\n/**\n * Open a dialog element with graceful fallback.\n */\nexport function openDialog(dialogEl: HTMLDialogElement | null): void {\n  if (!dialogEl) return;\n  if (typeof dialogEl.showModal === 'function') {\n    dialogEl.showModal();\n  } else {\n    dialogEl.setAttribute('open', '');\n  }\n}\n\n/**\n * Close a dialog element with graceful fallback.\n */\nexport function closeDialog(dialogEl: HTMLDialogElement | null): void {\n  if (!dialogEl) return;\n  if (typeof dialogEl.close === 'function') {\n    dialogEl.close();\n  } else {\n    dialogEl.removeAttribute('open');\n  }\n}\n\n/**\n * Synchronise values between two textarea elements.\n */\nexport function syncTextareas(el1: HTMLTextAreaElement | null, el2: HTMLTextAreaElement | null): void {\n  if (!el1 || !el2) return;\n  el1.addEventListener('input', () => {\n    el2.value = el1.value;\n  });\n  el2.addEventListener('input', () => {\n    el1.value = el2.value;\n  });\n}\n"],
  "mappings": "AAiBA,SAAS,oBAAiC;AACxC,MAAI,iBAAiB,SAAS,eAAe,iBAAiB;AAC9D,MAAI,CAAC,gBAAgB;AACnB,qBAAiB,SAAS,cAAc,KAAK;AAC7C,mBAAe,KAAK;AACpB,mBAAe,YAAY;AAC3B,aAAS,KAAK,YAAY,cAAc;AAAA,EAC1C;AACA,SAAO;AACT;AAUO,SAAS,UAAU,SAAiB,OAAkB,WAAiB;AAC5E,QAAM,iBAAiB,kBAAkB;AAEzC,QAAM,UAAU,SAAS,cAAc,KAAK;AAC5C,UAAQ,YAAY;AACpB,UAAQ,aAAa,QAAQ,OAAO;AACpC,UAAQ,aAAa,aAAa,WAAW;AAC7C,UAAQ,aAAa,eAAe,MAAM;AAE1C,QAAM,UAAU,SAAS,WAAW,SAAS,WAAW,mBACtD,SAAS,YAAY,oBACrB,SAAS,SAAS,iBAAiB;AACrC,UAAQ,UAAU,IAAI,OAAO;AAE7B,QAAM,QAAQ,SAAS,cAAc,KAAK;AAC1C,QAAM,YAAY;AAElB,QAAM,OAAO,SAAS,cAAc,KAAK;AACzC,OAAK,YAAY;AACjB,OAAK,YAAY;AAEjB,QAAM,MAAM,SAAS,cAAc,QAAQ;AAC3C,MAAI,OAAO;AACX,MAAI,YAAY;AAChB,MAAI,aAAa,mBAAmB,OAAO;AAC3C,MAAI,aAAa,cAAc,OAAO;AAEtC,QAAM,YAAY,IAAI;AACtB,QAAM,YAAY,GAAG;AACrB,UAAQ,YAAY,KAAK;AACzB,iBAAe,YAAY,OAAO;AAElC,QAAM,UAAU,IAAI,OAAO,UAAU,MAAM,SAAS,EAAE,OAAO,IAAK,CAAC;AACnE,UAAQ,KAAK;AACb,UAAQ,iBAAiB,mBAAmB,MAAM,QAAQ,OAAO,CAAC;AACpE;AAKA,eAAsB,gBAAgB,MAAgC;AACpE,MAAI;AACF,QAAI,UAAU,aAAa,OAAO,iBAAiB;AACjD,YAAM,UAAU,UAAU,UAAU,IAAI;AACxC,aAAO;AAAA,IACT;AAEA,UAAM,WAAW,SAAS,cAAc,UAAU;AAClD,aAAS,QAAQ;AACjB,aAAS,MAAM,WAAW;AAC1B,aAAS,MAAM,OAAO;AACtB,aAAS,MAAM,MAAM;AACrB,aAAS,KAAK,YAAY,QAAQ;AAClC,aAAS,MAAM;AACf,aAAS,OAAO;AAChB,UAAM,SAAS,SAAS,YAAY,MAAM;AAC1C,aAAS,KAAK,YAAY,QAAQ;AAClC,WAAO;AAAA,EACT,SAAS,KAAK;AACZ,YAAQ,MAAM,yBAAyB,GAAG;AAC1C,WAAO;AAAA,EACT;AACF;AAKO,SAAS,WAAW,UAA0C;AACnE,MAAI,CAAC,SAAU;AACf,MAAI,OAAO,SAAS,cAAc,YAAY;AAC5C,aAAS,UAAU;AAAA,EACrB,OAAO;AACL,aAAS,aAAa,QAAQ,EAAE;AAAA,EAClC;AACF;AAKO,SAAS,YAAY,UAA0C;AACpE,MAAI,CAAC,SAAU;AACf,MAAI,OAAO,SAAS,UAAU,YAAY;AACxC,aAAS,MAAM;AAAA,EACjB,OAAO;AACL,aAAS,gBAAgB,MAAM;AAAA,EACjC;AACF;AAKO,SAAS,cAAc,KAAiC,KAAuC;AACpG,MAAI,CAAC,OAAO,CAAC,IAAK;AAClB,MAAI,iBAAiB,SAAS,MAAM;AAClC,QAAI,QAAQ,IAAI;AAAA,EAClB,CAAC;AACD,MAAI,iBAAiB,SAAS,MAAM;AAClC,QAAI,QAAQ,IAAI;AAAA,EAClB,CAAC;AACH;",
  "names": []
}
