{
  "version": 3,
  "sources": ["auth.ts"],
  "sourcesContent": ["/**\n * Authentication helpers shared across ChatVibes pages.\n */\n\nconst STORAGE_KEYS = {\n  login: 'twitch_user_login',\n  userId: 'twitch_user_id',\n  sessionToken: 'app_session_token',\n  tokenUser: 'token_user',\n  tokenChannel: 'token_channel',\n} as const;\n\n/**\n * Clear session-related tokens and redirect to the landing page.\n */\nexport function logout(redirectTo: string = 'index.html'): void {\n  Object.values(STORAGE_KEYS).forEach(key => localStorage.removeItem(key));\n  window.location.href = redirectTo;\n}\n\n/**\n * Get the currently stored session token, if any.\n */\nexport function getStoredSessionToken(): string | null {\n  return localStorage.getItem(STORAGE_KEYS.sessionToken);\n}\n\n/**\n * Stored user information\n */\nexport interface StoredUser {\n  login: string;\n  id: string;\n  displayName: string;\n}\n\n/**\n * Retrieve stored Twitch user information from localStorage, if present.\n */\nexport function getStoredUser(): StoredUser | null {\n  const login = localStorage.getItem(STORAGE_KEYS.login);\n  const id = localStorage.getItem(STORAGE_KEYS.userId);\n  if (!login || !id) return null;\n  return {\n    login,\n    id,\n    displayName: login,\n  };\n}\n\n/**\n * Session data to store\n */\nexport interface SessionData {\n  login?: string;\n  id?: string;\n  sessionToken?: string;\n  tokenUser?: string;\n  tokenChannel?: string;\n}\n\n/**\n * Persist Twitch user information and session token to localStorage.\n */\nexport function storeSessionData({ login, id, sessionToken, tokenUser, tokenChannel }: SessionData): void {\n  if (login) localStorage.setItem(STORAGE_KEYS.login, login);\n  if (id) localStorage.setItem(STORAGE_KEYS.userId, id);\n  if (sessionToken) localStorage.setItem(STORAGE_KEYS.sessionToken, sessionToken);\n  if (tokenUser) localStorage.setItem(STORAGE_KEYS.tokenUser, tokenUser);\n  if (tokenChannel) localStorage.setItem(STORAGE_KEYS.tokenChannel, tokenChannel);\n}\n"],
  "mappings": "AAIA,MAAM,eAAe;AAAA,EACnB,OAAO;AAAA,EACP,QAAQ;AAAA,EACR,cAAc;AAAA,EACd,WAAW;AAAA,EACX,cAAc;AAChB;AAKO,SAAS,OAAO,aAAqB,cAAoB;AAC9D,SAAO,OAAO,YAAY,EAAE,QAAQ,SAAO,aAAa,WAAW,GAAG,CAAC;AACvE,SAAO,SAAS,OAAO;AACzB;AAKO,SAAS,wBAAuC;AACrD,SAAO,aAAa,QAAQ,aAAa,YAAY;AACvD;AAcO,SAAS,gBAAmC;AACjD,QAAM,QAAQ,aAAa,QAAQ,aAAa,KAAK;AACrD,QAAM,KAAK,aAAa,QAAQ,aAAa,MAAM;AACnD,MAAI,CAAC,SAAS,CAAC,GAAI,QAAO;AAC1B,SAAO;AAAA,IACL;AAAA,IACA;AAAA,IACA,aAAa;AAAA,EACf;AACF;AAgBO,SAAS,iBAAiB,EAAE,OAAO,IAAI,cAAc,WAAW,aAAa,GAAsB;AACxG,MAAI,MAAO,cAAa,QAAQ,aAAa,OAAO,KAAK;AACzD,MAAI,GAAI,cAAa,QAAQ,aAAa,QAAQ,EAAE;AACpD,MAAI,aAAc,cAAa,QAAQ,aAAa,cAAc,YAAY;AAC9E,MAAI,UAAW,cAAa,QAAQ,aAAa,WAAW,SAAS;AACrE,MAAI,aAAc,cAAa,QAAQ,aAAa,cAAc,YAAY;AAChF;",
  "names": []
}
