{
  "version": 3,
  "sources": ["main.ts"],
  "sourcesContent": ["import { getApiBaseUrl, fetchWithAuth } from '../common/api.js';\nimport { logout, getStoredSessionToken } from '../common/auth.js';\nimport {\n    initPreferencesModule,\n    type PreferencesModule,\n    type PreferencesInfo,\n} from './preferences.js';\nimport {\n    initChannelContextModule,\n    type ChannelContextAPI,\n} from './channel-context.js';\nimport {\n    initDangerZoneModule,\n    type DangerZoneModule,\n} from './danger-zone.js';\n\n// JWT payload structure\ninterface JWTPayload {\n    userLogin: string;\n    displayName?: string;\n    tokenUser?: string;\n    tokenChannel?: string;\n}\n\n// DOM elements interface\ninterface ViewerElements {\n    authStatus: HTMLElement | null;\n    loggedInStatus: HTMLElement | null;\n    loggedInUsername: HTMLElement | null;\n    preferencesPanel: HTMLElement | null;\n    logoutLink: HTMLAnchorElement | null;\n}\n\n// Application state interface\ninterface ViewerState {\n    sessionToken: string | null;\n    currentChannel: string | null;\n    isAuthenticated: boolean;\n}\n\n// Services interface\ninterface ViewerServices {\n    getSessionToken: () => string | null;\n    setSessionToken: (tokenValue: string | null) => void;\n    getCurrentChannel: () => string | null;\n    setCurrentChannel: (channelName: string | null) => void;\n}\n\n// API response types\ninterface AuthResponse {\n    success?: boolean;\n    requiresTwitchAuth?: boolean;\n    sessionToken?: string;\n    user?: {\n        login: string;\n        displayName?: string;\n    };\n    tokenUser?: string;\n    tokenChannel?: string;\n    error?: string;\n}\n\ninterface TwitchAuthInitResponse {\n    success: boolean;\n    twitchAuthUrl?: string;\n    state?: string;\n}\n\ninterface AuthStatusResponse {\n    success: boolean;\n    user?: {\n        displayName?: string;\n        userLogin?: string;\n        login?: string;\n    };\n}\n\ntype AuthStatusType = 'info' | 'success' | 'error';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n    (async function bootstrap(): Promise<void> {\n        const TEST_MODE = new URLSearchParams(window.location.search).has('test');\n        const urlParams = new URLSearchParams(window.location.search);\n        const initialChannel = urlParams.get('channel');\n        const token = urlParams.get('token');\n\n        const apiBaseUrl = getApiBaseUrl();\n\n        const elements: ViewerElements = {\n            authStatus: document.getElementById('auth-status'),\n            loggedInStatus: document.getElementById('logged-in-status'),\n            loggedInUsername: document.getElementById('logged-in-username'),\n            preferencesPanel: document.getElementById('preferences-panel'),\n            logoutLink: document.getElementById('logout-link') as HTMLAnchorElement | null,\n        };\n\n        const state: ViewerState = {\n            sessionToken: getStoredSessionToken(),\n            currentChannel: initialChannel,\n            isAuthenticated: false,\n        };\n\n        const services: ViewerServices = {\n            getSessionToken: () => state.sessionToken,\n            setSessionToken: (tokenValue: string | null) => {\n                state.sessionToken = tokenValue;\n                if (tokenValue) {\n                    localStorage.setItem('app_session_token', tokenValue);\n                } else {\n                    localStorage.removeItem('app_session_token');\n                }\n            },\n            getCurrentChannel: () => state.currentChannel,\n            setCurrentChannel: (channelName: string | null) => {\n                state.currentChannel = channelName;\n            },\n        };\n\n        const channelContextModule: ChannelContextAPI = initChannelContextModule(\n            { testMode: TEST_MODE },\n            {\n                setCurrentChannel: (channel: string | null) => {\n                    state.currentChannel = channel;\n                },\n                getCurrentChannel: services.getCurrentChannel,\n            },\n            {\n                onChannelChange: handleChannelChange,\n            }\n        );\n\n        const preferencesModule: PreferencesModule = initPreferencesModule(\n            { apiBaseUrl, testMode: TEST_MODE },\n            { getCurrentChannel: (() => state.currentChannel || '') as () => string },\n            {\n                onPreferencesLoaded: ({ ignoreStatus }: PreferencesInfo) => {\n                    if (state.currentChannel) {\n                        dangerZoneModule.updateChannel(state.currentChannel, ignoreStatus);\n                    } else {\n                        dangerZoneModule.clear();\n                    }\n                },\n            }\n        );\n\n        const dangerZoneModule: DangerZoneModule = initDangerZoneModule(\n            { apiBaseUrl, testMode: TEST_MODE },\n            { getCurrentChannel: services.getCurrentChannel },\n            {\n                requestChannel: channelContextModule.openChannelPrompt,\n            }\n        );\n\n        if (elements.logoutLink) {\n            elements.logoutLink.addEventListener('click', (e: Event) => {\n                e.preventDefault();\n                logout();\n            });\n        }\n\n        const authenticated = await initializeAuth(token);\n        if (!authenticated) {\n            return;\n        }\n\n        await preferencesModule.loadVoices();\n\n        // Ensure initial channel context is reflected in UI\n        if (state.currentChannel) {\n            channelContextModule.setChannelUI(state.currentChannel);\n        } else {\n            channelContextModule.clearChannelUI();\n        }\n\n        await handleChannelChange(state.currentChannel);\n\n        async function handleChannelChange(channelName: string | null): Promise<void> {\n            if (channelName) {\n                channelContextModule.setChannelUI(channelName);\n            } else {\n                channelContextModule.clearChannelUI();\n            }\n\n            try {\n                const info = await preferencesModule.loadPreferences();\n                if (channelName) {\n                    dangerZoneModule.updateChannel(channelName, info?.ignoreStatus);\n                } else {\n                    dangerZoneModule.clear();\n                }\n            } catch (_) {\n                if (!channelName) {\n                    dangerZoneModule.clear();\n                }\n            }\n        }\n\n        async function initializeAuth(tokenParam: string | null): Promise<boolean> {\n            if (TEST_MODE) {\n                state.isAuthenticated = true;\n                state.sessionToken = 'TEST_SESSION_TOKEN';\n                showAuthStatus('', 'info');\n                revealPreferencesPanel();\n                if (elements.loggedInStatus) elements.loggedInStatus.style.display = 'block';\n                if (elements.loggedInUsername) elements.loggedInUsername.textContent = 'Test User';\n                if (state.currentChannel) {\n                    channelContextModule.setChannelUI(state.currentChannel);\n                }\n                return true;\n            }\n\n            const urlParams = new URLSearchParams(window.location.search);\n            const sessionTokenParam = urlParams.get('session_token');\n            const validatedParam = urlParams.get('validated');\n            const errorParam = urlParams.get('error');\n            const messageParam = urlParams.get('message');\n\n            if (errorParam) {\n                let errorMessage = 'Authentication failed';\n                if (errorParam === 'access_denied') {\n                    errorMessage = messageParam ? decodeURIComponent(messageParam) : 'Access denied: You can only access your own preferences';\n                } else if (errorParam === 'oauth_failed') {\n                    errorMessage = 'Twitch OAuth authentication failed';\n                } else if (errorParam === 'state_mismatch') {\n                    errorMessage = 'Security validation failed';\n                } else if (errorParam === 'auth_failed') {\n                    errorMessage = messageParam ? decodeURIComponent(messageParam) : 'Authentication failed';\n                }\n                showAuthStatus(errorMessage, 'error');\n                setTimeout(() => { window.location.href = '/'; }, 5000);\n                return false;\n            }\n\n            if (sessionTokenParam && validatedParam) {\n                try {\n                    services.setSessionToken(sessionTokenParam);\n                    const tokenParts = sessionTokenParam.split('.');\n                    let userDisplayName: string | null = null;\n                    if (tokenParts.length === 3) {\n                        const payload: JWTPayload = JSON.parse(atob(tokenParts[1]));\n                        localStorage.setItem('twitch_user_login', payload.userLogin);\n                        localStorage.setItem('token_user', payload.tokenUser || '');\n                        localStorage.setItem('token_channel', payload.tokenChannel || '');\n                        userDisplayName = payload.displayName || payload.userLogin;\n                    }\n                    state.isAuthenticated = true;\n                    revealPreferencesPanel();\n                    showAuthStatus('', 'info');\n                    if (elements.loggedInStatus) elements.loggedInStatus.style.display = 'block';\n                    if (elements.loggedInUsername) elements.loggedInUsername.textContent = userDisplayName || 'User';\n                    if (state.currentChannel) {\n                        channelContextModule.setChannelUI(state.currentChannel);\n                    }\n                    const cleanUrl = new URL(window.location.href);\n                    cleanUrl.searchParams.delete('session_token');\n                    cleanUrl.searchParams.delete('validated');\n                    window.history.replaceState({}, '', cleanUrl.toString());\n                    return true;\n                } catch (error) {\n                    console.error('Failed to process validated session token:', error);\n                    showAuthStatus('Authentication failed. Please try again.', 'error');\n                    return false;\n                }\n            }\n\n            if (tokenParam) {\n                return await exchangeInviteToken(tokenParam);\n            }\n\n            return await checkExistingSession();\n        }\n\n        async function exchangeInviteToken(tokenParam: string): Promise<boolean> {\n            try {\n                const response = await fetch(`${apiBaseUrl}/api/viewer/auth`, {\n                    method: 'POST',\n                    headers: { 'Content-Type': 'application/json' },\n                    body: JSON.stringify({ token: tokenParam, channel: state.currentChannel }),\n                });\n                if (response.ok) {\n                    const data: AuthResponse = await response.json();\n                    if (data.requiresTwitchAuth) {\n                        return await requireTwitchAuth(tokenParam);\n                    }\n                    if (data.sessionToken) {\n                        services.setSessionToken(data.sessionToken);\n                    }\n                    if (data.user?.login) {\n                        localStorage.setItem('twitch_user_login', data.user.login);\n                    }\n                    if (data.tokenUser && data.tokenChannel) {\n                        localStorage.setItem('token_user', data.tokenUser);\n                        localStorage.setItem('token_channel', data.tokenChannel);\n                    }\n                    state.isAuthenticated = true;\n                    revealPreferencesPanel();\n                    showAuthStatus('', 'info');\n                    if (elements.loggedInStatus) elements.loggedInStatus.style.display = 'block';\n                    if (elements.loggedInUsername && data.user) {\n                        elements.loggedInUsername.textContent = data.user.displayName || data.user.login;\n                    }\n                    if (state.currentChannel) {\n                        channelContextModule.setChannelUI(state.currentChannel);\n                    }\n                    return true;\n                } else if (response.status === 403) {\n                    const data: AuthResponse = await response.json();\n                    showAuthStatus(data.error || 'Access denied', 'error');\n                    setTimeout(() => { window.location.href = '/'; }, 5000);\n                    return false;\n                } else {\n                    throw new Error('Invalid or expired token');\n                }\n            } catch (error) {\n                console.error('Token authentication failed:', error);\n                return checkExistingSession();\n            }\n        }\n\n        async function requireTwitchAuth(tokenParam?: string): Promise<boolean> {\n            showAuthStatus('Please verify your Twitch identity to access viewer preferences.', 'info');\n            const loginButton = document.createElement('button');\n            loginButton.textContent = 'Sign in with Twitch';\n            loginButton.className = 'btn btn-primary mt-2';\n            loginButton.onclick = async () => {\n                try {\n                    showAuthStatus('Redirecting to Twitch for authentication...', 'info');\n                    const authUrl = tokenParam && state.currentChannel\n                        ? `${apiBaseUrl}/auth/twitch/viewer?token=${encodeURIComponent(tokenParam)}&channel=${encodeURIComponent(state.currentChannel)}`\n                        : `${apiBaseUrl}/auth/twitch/viewer`;\n                    const response = await fetch(authUrl);\n                    const data: TwitchAuthInitResponse = await response.json();\n                    if (data.success && data.twitchAuthUrl && data.state) {\n                        sessionStorage.setItem('oauth_csrf_state', data.state);\n                        window.location.href = data.twitchAuthUrl;\n                    } else {\n                        throw new Error('Failed to initiate Twitch authentication');\n                    }\n                } catch (error) {\n                    console.error('Failed to initiate Twitch auth:', error);\n                    showAuthStatus('Failed to start Twitch authentication. Please try again.', 'error');\n                }\n            };\n            if (elements.authStatus) {\n                elements.authStatus.appendChild(loginButton);\n            }\n            return false;\n        }\n\n        async function checkExistingSession(): Promise<boolean> {\n            const storedToken = services.getSessionToken();\n            const tokenUser = localStorage.getItem('token_user');\n            const currentUser = localStorage.getItem('twitch_user_login');\n\n            if (!storedToken) {\n                return requireTwitchAuth();\n            }\n\n            if (tokenUser && currentUser && tokenUser !== currentUser) {\n                showAuthStatus('Access denied: You can only access your own preferences.', 'error');\n                localStorage.clear();\n                setTimeout(() => { window.location.href = '/'; }, 3000);\n                return false;\n            }\n\n            try {\n                const response = await fetchWithAuth(`${apiBaseUrl}/api/auth/status`);\n                const data: AuthStatusResponse = await response.json();\n                if (data.success === true && data.user) {\n                    state.isAuthenticated = true;\n                    revealPreferencesPanel();\n                    showAuthStatus('', 'info');\n                    if (elements.loggedInStatus) elements.loggedInStatus.style.display = 'block';\n                    if (elements.loggedInUsername) {\n                        elements.loggedInUsername.textContent = data.user.displayName || data.user.userLogin || data.user.login || 'User';\n                    }\n                    return true;\n                }\n                throw new Error('Not authenticated');\n            } catch (error) {\n                console.error('Session check failed:', error);\n                services.setSessionToken(null);\n                return requireTwitchAuth();\n            }\n        }\n\n        function showAuthStatus(message: string, type: AuthStatusType = 'info'): void {\n            if (!elements.authStatus) return;\n            if (message) {\n                elements.authStatus.innerHTML = message;\n                elements.authStatus.style.display = 'block';\n                const klass = type === 'success' ? 'alert-success' : type === 'error' ? 'alert-danger' : 'alert-info';\n                elements.authStatus.className = `alert ${klass} text-center`;\n            } else {\n                elements.authStatus.innerHTML = '';\n                elements.authStatus.className = '';\n                elements.authStatus.style.display = 'none';\n            }\n        }\n\n        function revealPreferencesPanel(): void {\n            if (elements.preferencesPanel) {\n                elements.preferencesPanel.style.display = 'block';\n            }\n        }\n    })();\n});\n"],
  "mappings": "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",
  "names": ["urlParams"]
}
