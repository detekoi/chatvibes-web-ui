{
  "version": 3,
  "sources": ["channel-points.ts"],
  "sourcesContent": ["import { fetchWithAuth } from '../common/api.js';\nimport { showToast } from '../common/ui.js';\nimport type { DashboardContext, DashboardServices } from './types.js';\n\n/**\n * Content policy configuration\n */\ninterface ContentPolicy {\n  blockLinks: boolean;\n  bannedWords: string[];\n}\n\n/**\n * Channel Points reward configuration\n */\ninterface ChannelPointsConfig {\n  enabled: boolean;\n  title: string;\n  cost: number;\n  prompt: string;\n  skipQueue: boolean;\n  limitsEnabled: boolean;\n  cooldownSeconds: number;\n  perStreamLimit: number;\n  perUserPerStreamLimit: number;\n  rewardId?: string;\n  lastSyncedAt?: string;\n  contentPolicy?: ContentPolicy;\n}\n\n/**\n * API response for loading Channel Points configuration\n */\ninterface ChannelPointsData {\n  channelPoints?: ChannelPointsConfig;\n}\n\n/**\n * API response for saving Channel Points configuration\n */\ninterface SaveResponse {\n  channelPoints?: {\n    rewardId?: string;\n  };\n  rewardId?: string;\n  error?: string;\n}\n\n/**\n * API response for testing Channel Points redemption\n */\ninterface TestResponse {\n  status?: string;\n  error?: string;\n}\n\n/**\n * API response for deleting Channel Points reward\n */\ninterface DeleteResponse {\n  error?: string;\n}\n\n/**\n * Dependencies for Channel Points module\n */\ninterface ChannelPointsDependencies {\n  onSettingsRefresh?: () => Promise<void>;\n}\n\n/**\n * Channel Points module return type\n */\nexport interface ChannelPointsModule {\n  load: () => Promise<void>;\n}\n\n/**\n * Channel Points reward management.\n */\nexport function initChannelPointsModule(\n  context: DashboardContext,\n  services: DashboardServices,\n  deps: ChannelPointsDependencies = {}\n): ChannelPointsModule {\n  const { apiBaseUrl, testMode } = context;\n  const { getSessionToken } = services;\n  const { onSettingsRefresh } = deps;\n\n  const cpEnabled = document.getElementById('cp-enabled') as HTMLInputElement | null;\n  const cpTitle = document.getElementById('cp-title') as HTMLInputElement | null;\n  const cpCost = document.getElementById('cp-cost') as HTMLInputElement | null;\n  const cpPrompt = document.getElementById('cp-prompt') as HTMLTextAreaElement | null;\n  const cpSkipQueue = document.getElementById('cp-skip-queue') as HTMLInputElement | null;\n  const cpLimitsEnabled = document.getElementById('cp-limits-enabled') as HTMLInputElement | null;\n  const cpCooldown = document.getElementById('cp-cooldown') as HTMLInputElement | null;\n  const cpPerStream = document.getElementById('cp-per-stream') as HTMLInputElement | null;\n  const cpPerUser = document.getElementById('cp-per-user') as HTMLInputElement | null;\n  const cpBlockLinks = document.getElementById('cp-block-links') as HTMLInputElement | null;\n  const cpBannedWords = document.getElementById('cp-banned-words') as HTMLTextAreaElement | null;\n  const cpSaveBtn = document.getElementById('cp-save') as HTMLButtonElement | null;\n  const cpTestBtn = document.getElementById('cp-test') as HTMLButtonElement | null;\n  const cpDeleteBtn = document.getElementById('cp-delete') as HTMLButtonElement | null;\n  const cpMsg = document.getElementById('cp-msg') as HTMLElement | null;\n  const cpStatusLine = document.getElementById('cp-status-line') as HTMLElement | null;\n\n  let lastSaveAt = 0;\n  let timerId: ReturnType<typeof setTimeout> | null = null;\n  const MIN_INTERVAL_MS = 1500;\n  const DEBOUNCE_MS = 800;\n\n  if (cpSaveBtn) cpSaveBtn.addEventListener('click', () => saveChannelPointsConfig(false));\n  if (cpTestBtn) cpTestBtn.addEventListener('click', testChannelPointsRedeem);\n  if (cpDeleteBtn) cpDeleteBtn.addEventListener('click', deleteChannelPointsReward);\n\n  bindAutoSave();\n\n  return {\n    load: () => loadChannelPointsConfig(),\n  };\n\n  async function loadChannelPointsConfig(): Promise<void> {\n    if (testMode) {\n      if (cpEnabled) cpEnabled.checked = false;\n      if (cpStatusLine) cpStatusLine.textContent = 'No reward created (test mode)';\n      return;\n    }\n\n    try {\n      const res = await fetchWithAuth(`${apiBaseUrl}/api/rewards/tts`, {\n        method: 'GET',\n        credentials: 'include'\n      });\n      if (!res.ok) {\n        const err = await res.json().catch(() => ({}));\n        console.warn('Failed to load Channel Points config:', err);\n        return;\n      }\n\n      const data = await res.json() as ChannelPointsData;\n      const cp = data.channelPoints || {} as ChannelPointsConfig;\n      const policy = cp.contentPolicy || {} as ContentPolicy;\n      if (cpEnabled) cpEnabled.checked = !!cp.enabled;\n      if (cpTitle) cpTitle.value = cp.title ?? 'Text-to-Speech Message';\n      if (cpCost) cpCost.value = String(cp.cost ?? 500);\n      if (cpPrompt) cpPrompt.value = cp.prompt ?? 'Enter a message to be read aloud';\n      if (cpSkipQueue) cpSkipQueue.checked = cp.skipQueue !== false;\n      if (cpLimitsEnabled) cpLimitsEnabled.checked = cp.limitsEnabled ?? (cp.perStreamLimit > 0 || cp.perUserPerStreamLimit > 0);\n      if (cpCooldown) cpCooldown.value = String(cp.limitsEnabled ? Math.max(1, cp.cooldownSeconds ?? 1) : (cp.cooldownSeconds ?? 0));\n      if (cpPerStream) cpPerStream.value = cp.perStreamLimit > 0 ? String(cp.perStreamLimit) : '';\n      if (cpPerUser) cpPerUser.value = cp.perUserPerStreamLimit > 0 ? String(cp.perUserPerStreamLimit) : '';\n      if (cpBlockLinks) cpBlockLinks.checked = policy.blockLinks ?? false;\n      if (cpBannedWords) cpBannedWords.value = (policy.bannedWords || []).join(', ');\n      if (cpMsg) cpMsg.className = 'text-muted';\n      if (cpStatusLine) {\n        const lastSynced = cp.lastSyncedAt ? new Date(cp.lastSyncedAt).toLocaleTimeString() : 'never';\n        const rewardInfo = cp.rewardId ? `Reward ID: ${cp.rewardId}` : 'No reward created';\n        cpStatusLine.textContent = `${rewardInfo} \u00B7 Last synced: ${lastSynced}`;\n      }\n    } catch (error) {\n      console.warn('Failed to load Channel Points config:', error);\n    }\n  }\n\n  async function saveChannelPointsConfig(isAuto: boolean = false): Promise<void> {\n    if (testMode) {\n      showToast('Channel Points saved \u2713 (test mode)', 'success');\n      if (cpStatusLine) cpStatusLine.textContent = 'No reward created \u00B7 Last synced: ' + new Date().toLocaleTimeString();\n      return;\n    }\n    if (!getSessionToken()) {\n      showToast('Authentication required', 'error');\n      return;\n    }\n\n    const payload: Omit<ChannelPointsConfig, 'rewardId' | 'lastSyncedAt'> = {\n      enabled: !!cpEnabled?.checked,\n      title: cpTitle?.value || 'Text-to-Speech Message',\n      cost: parseInt(cpCost?.value || '500', 10),\n      prompt: cpPrompt?.value || 'Enter a message to be read aloud',\n      skipQueue: !!cpSkipQueue?.checked,\n      limitsEnabled: !!cpLimitsEnabled?.checked,\n      cooldownSeconds: parseInt(cpCooldown?.value || '0', 10),\n      perStreamLimit: parseInt((cpPerStream?.value || '').toString().trim() || '0', 10),\n      perUserPerStreamLimit: parseInt((cpPerUser?.value || '').toString().trim() || '0', 10),\n      contentPolicy: {\n        blockLinks: !!cpBlockLinks?.checked,\n        bannedWords: (cpBannedWords?.value || '')\n          .split(',')\n          .map(word => word.trim())\n          .filter(Boolean)\n      }\n    };\n\n    if (!isAuto) {\n      showToast('Saving Channel Points settings\u2026', 'info');\n    }\n\n    try {\n      const res = await fetchWithAuth(`${apiBaseUrl}/api/rewards/tts`, {\n        method: 'POST',\n        credentials: 'include',\n        body: JSON.stringify(payload)\n      });\n      const data = await res.json().catch(() => ({})) as SaveResponse;\n      if (!res.ok) {\n        showToast(data.error || 'Failed to save Channel Points config', 'error');\n        return;\n      }\n      if (isAuto) {\n        showToast('Channel Points saved \u2713', 'success');\n      } else {\n        showToast('Channel Points saved \u2713', 'success');\n      }\n      if (cpStatusLine) {\n        const rewardId = data.channelPoints?.rewardId || data.rewardId;\n        const idPart = rewardId ? `Reward ID: ${rewardId}` : 'No reward created';\n        cpStatusLine.textContent = `${idPart} \u00B7 Last synced: ${new Date().toLocaleTimeString()}`;\n      }\n      await loadChannelPointsConfig();\n      await onSettingsRefresh?.();\n    } catch (error) {\n      console.error('Failed to save Channel Points config:', error);\n      showToast('Failed to save Channel Points config', 'error');\n    }\n  }\n\n  async function testChannelPointsRedeem(): Promise<void> {\n    if (testMode) {\n      const text = prompt('Enter a test message to simulate a redemption:');\n      if (text) showToast('Test validated \u2713 (test mode)', 'success');\n      return;\n    }\n    if (!getSessionToken()) {\n      showToast('Authentication required', 'error');\n      return;\n    }\n    const text = prompt('Enter a test message to simulate a redemption:');\n    if (!text) return;\n    try {\n      showToast('Testing redeem\u2026', 'info');\n      const res = await fetchWithAuth(`${apiBaseUrl}/api/rewards/tts/test`, {\n        method: 'POST',\n        credentials: 'include',\n        body: JSON.stringify({ text })\n      });\n      const data = await res.json().catch(() => ({})) as TestResponse;\n      if (!res.ok) {\n        showToast(data.error || 'Test failed', 'error');\n        return;\n      }\n      showToast(`Test validated \u2713 (${data.status || 'ok'})`, 'success');\n    } catch (e) {\n      showToast('Test failed', 'error');\n    }\n  }\n\n  async function deleteChannelPointsReward(): Promise<void> {\n    if (testMode) {\n      if (cpEnabled) cpEnabled.checked = false;\n      if (cpStatusLine) cpStatusLine.textContent = 'No reward created \u00B7 Last synced: ' + new Date().toLocaleTimeString();\n      showToast('Disabled & deleted \u2713 (test mode)', 'success');\n      return;\n    }\n    if (!getSessionToken()) {\n      showToast('Authentication required', 'error');\n      return;\n    }\n    if (!confirm('Disable & delete the Channel Points TTS reward?')) return;\n    try {\n      showToast('Deleting\u2026', 'info');\n      const res = await fetchWithAuth(`${apiBaseUrl}/api/rewards/tts`, {\n        method: 'DELETE',\n        credentials: 'include'\n      });\n      const data = await res.json().catch(() => ({})) as DeleteResponse;\n      if (!res.ok) {\n        showToast(data.error || 'Delete failed', 'error');\n        return;\n      }\n      if (cpEnabled) cpEnabled.checked = false;\n      if (cpStatusLine) cpStatusLine.textContent = 'No reward created \u00B7 Last synced: ' + new Date().toLocaleTimeString();\n      showToast('Disabled & deleted \u2713', 'success');\n      await loadChannelPointsConfig();\n      await onSettingsRefresh?.();\n    } catch (e) {\n      showToast('Delete failed', 'error');\n    }\n  }\n\n  function bindAutoSave(): void {\n    const bind = (el: HTMLElement | null, events: string[] = ['input', 'change']): void => {\n      if (!el) return;\n      events.forEach(evt => el.addEventListener(evt, scheduleAutoSave));\n    };\n\n    bind(cpEnabled, ['change']);\n    bind(cpTitle);\n    bind(cpCost);\n    bind(cpPrompt);\n    bind(cpSkipQueue, ['change']);\n    bind(cpLimitsEnabled, ['change']);\n    bind(cpCooldown);\n    bind(cpPerStream);\n    bind(cpPerUser);\n    bind(cpBlockLinks, ['change']);\n    bind(cpBannedWords);\n\n    const normalizeZeroToBlank = (el: HTMLInputElement | null): void => {\n      if (!el) return;\n      el.addEventListener('change', () => {\n        if ((el.value || '').trim() === '0') {\n          el.value = '';\n        }\n      });\n    };\n    normalizeZeroToBlank(cpPerStream);\n    normalizeZeroToBlank(cpPerUser);\n\n    if (cpCooldown) {\n      cpCooldown.addEventListener('change', () => {\n        const v = parseInt(cpCooldown.value || '0', 10);\n        if (cpLimitsEnabled?.checked && v === 0) {\n          cpCooldown.value = '1';\n        }\n      });\n    }\n  }\n\n  function scheduleAutoSave(): void {\n    const now = Date.now();\n    const wait = Math.max(DEBOUNCE_MS, MIN_INTERVAL_MS - (now - lastSaveAt));\n\n    if (timerId) {\n      clearTimeout(timerId);\n    }\n\n    timerId = setTimeout(async () => {\n      timerId = null;\n      lastSaveAt = Date.now();\n      await saveChannelPointsConfig(true);\n    }, wait);\n  }\n}\n"],
  "mappings": "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",
  "names": ["text"]
}
